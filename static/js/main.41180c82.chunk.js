(this.webpackJsonplab6=this.webpackJsonplab6||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(2),s=a.n(r),n=a(31),o=a.n(n),i=(a(37),a(15)),c=(a(38),a(19)),f=a(20),l=a(22),j=a(21),d=a(6),h=a(1),u=function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"offer",children:[Object(h.jsxs)("div",{className:"name",children:[" ",e.name," "]}),Object(h.jsxs)("div",{className:"text",children:[" ",e.text," "]}),Object(h.jsxs)("div",{className:"email",children:[" ",e.email," "]}),Object(h.jsxs)("div",{className:"tags",children:[" ",e.tags," "]})]})})},b=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("b",{children:[" (",e.text,") "]})})};function p(e){var t=0;if(0==e.length)return t;for(var a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t&=t}return t}var _=function(e){for(var t=[],a=0,r=0;r<e.offers.offers_name.length;r++)"true"===e.offers.offers_visible[r]&&(t.push(Object(h.jsx)(u,{name:e.offers.offers_name[r],text:e.offers.offers_text[r],email:e.offers.offers_email[r],tags:e.offers.offers_tags[r],shown:e.offers.offers_visible[r]},p(e.offers.offers_name[r]))),a++);return Object(h.jsxs)("div",{className:"offers-div",children:[Object(h.jsxs)("h3",{children:["Lista ofert ",Object(h.jsx)(b,{text:a})]}),Object(h.jsx)("ul",{children:t})]})},x=a(5),m=(a(16),a(48),x.a.initializeApp({apiKey:"AIzaSyCWroqbSfZDMKXzXeqjciWHT0W5TUkqjWw",authDomain:"piw-tinder-dla-projektow.firebaseapp.com",projectId:"piw-tinder-dla-projektow",storageBucket:"piw-tinder-dla-projektow.appspot.com",messagingSenderId:"771430009759",appId:"1:771430009759:web:9191765cc633eb20068baa"}),x.a.firestore()),O=(x.a.auth(),m),v=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={text:"",user:null},e.onChange=function(t){e.setState({text:t.target.value})},e.append=function(){x.a.auth().currentUser&&(e.props.offers.new_offer_name_value=x.a.auth().currentUser.displayName),e.props.adder(),O.collection("offers").add({name:e.props.offers.new_offer_name_value,text:e.props.offers.new_offer_text_value,email:e.props.offers.new_offer_email_value,tags:e.props.offers.new_offer_tags_value}),e.forceUpdate()},e.handleNewEntry_name=function(t){e.props.offers.new_offer_name_value=x.a.auth().currentUser?x.a.auth().currentUser.displayName:t.target.value,e.forceUpdate()},e.handleNewEntry_text=function(t){e.props.offers.new_offer_text_value=t.target.value,e.forceUpdate()},e.handleNewEntry_email=function(t){e.props.offers.new_offer_email_value=t.target.value,e.forceUpdate()},e.handleNewEntry_tags=function(t){e.props.offers.new_offer_tags_value=t.target.value,e.forceUpdate()},e}return Object(f.a)(a,[{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"offer-add-div",id:"offer-div",children:[Object(h.jsx)("h2",{children:this.props.text_add_offer}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"new_offer_name",children:"Imi\u0119 i nazwisko:"}),Object(h.jsx)("input",{type:"text",name:"new_offer_name",value:x.a.auth().currentUser?x.a.auth().currentUser.displayName:this.props.offers.new_offer_name_value,onChange:this.handleNewEntry_name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"new_offer_text",children:"Tre\u015b\u0107 oferty:"}),Object(h.jsx)("input",{type:"text",name:"new_offer_text",value:this.props.offers.new_offer_text_value,onChange:this.handleNewEntry_text})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"new_offer_email",children:"Email:"}),Object(h.jsx)("input",{type:"text",name:"new_offer_email",value:this.props.offers.new_offer_email_value,onChange:this.handleNewEntry_email})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"new_offer_tags",children:"Tagi:"}),Object(h.jsx)("input",{type:"text",name:"new_offer_tags",value:this.props.offers.new_offer_tags_value,onChange:this.handleNewEntry_tags})]}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"button",name:"add_offer",value:this.props.offers.add_offer_button_text,onClick:this.append})})]})]}),this.props.offers.showWarning&&Object(h.jsx)("h1",{style:{color:"red"},children:this.props.offers.errorMessage}),this.props.offers.showWarning2&&Object(h.jsx)("h1",{style:{color:"red"},children:this.props.offers.errorMessage2})]})}}]),a}(r.Component),g=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={search_box_value:"",radio_state:"",search_text:"Wyszukiwarka"},e.handleNewEntry_search=function(t){e.setState({search_box_value:t.target.value});for(var a=Array(e.props.offers.offers_text.length),r=0;r<e.props.offers.offers_text.length;r++){var s;if("name"===e.state.radio_state)s=e.props.offers.offers_name[r];else if("text"===e.state.radio_state)s=e.props.offers.offers_text[r];else if("email"===e.state.radio_state)s=e.props.offers.offers_email[r];else{if("tags"!==e.state.radio_state)return;s=e.props.offers.offers_tags[r]}s.toLowerCase().includes(t.target.value.toLowerCase())?a[r]="true":a[r]="false"}for(r=0;r<e.props.offers.offers_text.length;r++)e.props.offers.offers_visible[r]=a[r];e.props.main.forceUpdate()},e.handleChangeRadio_name=function(t){e.setState({radio_state:"name",search_box_value:""});for(var a=0;a<e.props.offers.offers_text.length;a++)e.props.offers.offers_visible[a]="true";e.props.main.forceUpdate()},e.handleChangeRadio_text=function(t){e.setState({radio_state:"text",search_box_value:""});for(var a=0;a<e.props.offers.offers_text.length;a++)e.props.offers.offers_visible[a]="true";e.props.main.forceUpdate()},e.handleChangeRadio_email=function(t){e.setState({radio_state:"email",search_box_value:""});for(var a=0;a<e.props.offers.offers_text.length;a++)e.props.offers.offers_visible[a]="true";e.props.main.forceUpdate()},e.handleChangeRadio_tags=function(t){e.setState({radio_state:"tags",search_box_value:""});for(var a=0;a<e.props.offers.offers_text.length;a++)e.props.offers.offers_visible[a]="true";e.props.main.forceUpdate()},e}return Object(f.a)(a,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"search-div",children:[Object(h.jsx)("h2",{children:this.state.search_text}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"text",name:"search_box",id:"search-box",value:this.state.search_box_value,onChange:this.handleNewEntry_search})}),Object(h.jsxs)("div",{id:"radiobuttons",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"rdb-name",name:"search_rdb",onClick:this.handleChangeRadio_name}),Object(h.jsx)("label",{htmlFor:"rdb-name",children:"Imi\u0119 i nazwisko"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"rdb-text",name:"search_rdb",onClick:this.handleChangeRadio_text}),Object(h.jsx)("label",{htmlFor:"rdb-text",children:"Tre\u015b\u0107 oferty"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"rdb-email",name:"search_rdb",onClick:this.handleChangeRadio_email}),Object(h.jsx)("label",{htmlFor:"rdb-email",children:"Email"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"rdb-tags",name:"search_rdb",onClick:this.handleChangeRadio_tags}),Object(h.jsx)("label",{htmlFor:"rdb-tags",children:"Tagi"})]})]})]})})}},{key:"componentWillMount",value:function(){for(var e=0;e<this.props.offers.offers_text.length;e++)this.props.offers.offers_visible[e]="true";this.props.main.forceUpdate()}}]),a}(s.a.Component),w=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(""),o=Object(i.a)(n,2),c=o[0],f=o[1],l=Object(r.useState)(!1),j=Object(i.a)(l,2),u=j[0],b=j[1];return u?Object(h.jsx)(d.a,{to:"/new"}):Object(h.jsxs)("div",{className:"form",children:[Object(h.jsx)("input",{className:"form-input",placeholder:"Email",value:a,onChange:function(e){return s(e.target.value)}}),Object(h.jsx)("input",{className:"form-input",placeholder:"Has\u0142o",value:c,onChange:function(e){return f(e.target.value)},type:"password"}),Object(h.jsx)("button",{onClick:function(){x.a.auth().signInWithEmailAndPassword(a,c).then((function(e){console.log("Zalogowano"),b(!0)})).catch((function(e){console.log(e)}))},children:"Zaloguj"})]})},y=function(e){var t=Object(r.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],o=Object(r.useState)(""),c=Object(i.a)(o,2),f=c[0],l=c[1],j=Object(r.useState)(""),u=Object(i.a)(j,2),b=u[0],p=u[1],_=Object(r.useState)(""),m=Object(i.a)(_,2),O=m[0],v=m[1];return O?Object(h.jsx)(d.a,{to:"/please-reload"}):Object(h.jsxs)("div",{className:"form",children:[Object(h.jsx)("input",{name:"username",className:"form-input",value:b,placeholder:"Nazwa wy\u015bwietlana",onChange:function(e){return p(e.target.value)}}),Object(h.jsx)("input",{name:"email",className:"form-input",value:s,placeholder:"Email",onChange:function(e){return n(e.target.value)}}),Object(h.jsx)("input",{name:"password",className:"form-input",value:f,placeholder:"Has\u0142o",onChange:function(e){return l(e.target.value)},type:"password"}),Object(h.jsx)("button",{onClick:function(){x.a.auth().createUserWithEmailAndPassword(s,f).then((function(){x.a.auth().signInWithEmailAndPassword(s,f).then((function(e){e.user.updateProfile({displayName:b})})).catch((function(e){console.log(e)})),v(!0)})).catch((function(e){console.log(e)}))},children:"Utw\xf3rz u\u017cytkownika"})]})},k=function(){return Object(h.jsxs)("div",{children:["Pomy\u015blnie zarejestrowano.",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"Przejd\u017a do strony g\u0142\xf3wnej (Lista wszystkich) a nast\u0119pnie naci\u015bnij F5, aby od\u015bwie\u017cy\u0107 cache."}),Object(h.jsx)("br",{}),"Po tym kroku mo\u017cesz swobodnie korzysta\u0107 z portalu. ",Object(h.jsx)("br",{}),Object(h.jsx)("b",{style:{color:"red"},children:"Jest to KONIECZNE z uwagi na spos\xf3b dzia\u0142ania gh-pages oraz konieczno\u015b\u0107 prze\u0142adowania jednego komponentu kt\xf3ry nie chce si\u0119 w tym przypadku prze\u0142adowa\u0107 sam."})," ",Object(h.jsx)("br",{}),"Jest to problem wyst\u0119puj\u0105cy ",Object(h.jsx)("u",{children:"wy\u0142\u0105cznie"})," podczas rejestracji."]})},C=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={offers_name:["\u0141adowanie ofert, prosz\u0119 czeka\u0107..."],offers_text:[""],offers_email:[""],offers_tags:[""],offers_visible:["true"],new_offer_name_value:"",new_offer_text_value:"",new_offer_email_value:"",new_offer_tags_value:"",add_offer_button_text:"Dodaj",showWarning:!1,showWarning2:!1,errorMessage:"U\u017cytkownik ju\u017c istnieje",errorMessage2:"Pola nie mog\u0105 by\u0107 puste"},e.componentDidMount=function(){O.collection("offers").onSnapshot((function(t){var a=[],r=[],s=[],n=[],o=[];t.forEach((function(e){a.push(e.data().name),r.push(e.data().text),s.push(e.data().email),n.push(e.data().tags),o.push("true")})),e.setState({offers_name:a,offers_text:r,offers_email:s,offers_tags:n,offers_visible:o})})),e.forceUpdate()},e.addNew=function(){e.state.offers_name.includes(e.state.new_offer_name_value)?e.setState({showWarning:!0,showWarning2:!1}):e.state.new_offer_name_value.trim()&&e.state.new_offer_text_value.trim()&&e.state.new_offer_email_value.trim()&&e.state.new_offer_tags_value.trim()?e.setState({offers_name:e.state.offers_name.concat(e.state.new_offer_name_value),offers_text:e.state.offers_text.concat(e.state.new_offer_text_value),offers_email:e.state.offers_email.concat(e.state.new_offer_email_value),offers_tags:e.state.offers_tags.concat(e.state.new_offer_tags_value),offers_visible:e.state.offers_visible.concat("true"),new_offer_name_value:"",new_offer_text_value:"",new_offer_email_value:"",new_offer_tags_value:"",showWarning:!1,showWarning2:!1}):e.setState({showWarning:!1,showWarning2:!0})},e}return Object(f.a)(a,[{key:"render",value:function(){return Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{path:"/",exact:!0,children:Object(h.jsxs)("section",{children:[Object(h.jsx)(g,{offers:this.state,main:this}),Object(h.jsx)(_,{offers:this.state,toggler:this.toggleItem})]})}),Object(h.jsx)(d.b,{path:"/new",children:Object(h.jsx)("section",{children:Object(h.jsx)(v,{offers:this.state,text_add_offer:"Dodaj ofert\u0119",adder:this.addNew})})}),Object(h.jsx)(d.b,{path:"/login",children:Object(h.jsx)("section",{children:Object(h.jsx)(w,{})})}),Object(h.jsx)(d.b,{path:"/logout",children:Object(h.jsx)("section",{children:Object(h.jsx)(N,{})})}),Object(h.jsx)(d.b,{path:"/register",exact:!0,children:Object(h.jsx)("section",{children:Object(h.jsx)(y,{})})}),Object(h.jsx)(d.b,{path:"/please-reload",exact:!0,children:Object(h.jsx)("section",{children:Object(h.jsx)(k,{})})}),Object(h.jsx)(d.b,{children:Object(h.jsx)("section",{children:Object(h.jsx)("h1",{children:"Error 404 - not found"})})})]})}}]),a}(r.Component),N=function(){return x.a.auth().signOut(),Object(h.jsx)(d.a,{to:"/"})},z=(a(46),function(){return Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{path:"/",exact:!0,render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Tinder do projekt\xf3w"}),Object(h.jsx)("h2",{children:"Przegl\u0105danie i wyszukiwanie"})]})}}),Object(h.jsx)(d.b,{path:"/new",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Tinder do projekt\xf3w"}),Object(h.jsx)("h2",{children:"Dodawanie oferty"})]})}})]})}),S=a(10);var U=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(r.useEffect)((function(){var e=x.a.auth().onAuthStateChanged((function(e){s(e||null)}));return function(){return e()}}),[]),Object(h.jsxs)(S.a,{basename:"/PIW-react-2",children:[Object(h.jsx)("header",{children:Object(h.jsx)(z,{})}),Object(h.jsxs)("main",{children:[Object(h.jsxs)("nav",{children:[Object(h.jsx)(S.b,{to:"/",exact:!0,children:"Lista wszystkich"}),Object(h.jsx)(S.b,{to:"/new",children:"Dodaj nowy"}),null===a&&Object(h.jsx)(S.b,{to:"/login",children:"Login"}),null!==a&&Object(h.jsx)(S.b,{to:"/logout",children:"Wyloguj"}),null===a&&Object(h.jsx)(S.b,{to:"/register",children:"Zarejestruj si\u0119"})]}),Object(h.jsx)(C,{})]}),Object(h.jsxs)("footer",{children:["Zalogowano jako: ",Object(h.jsx)("b",{children:x.a.auth().currentUser?x.a.auth().currentUser.displayName:""})]})]})};o.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(U,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.41180c82.chunk.js.map